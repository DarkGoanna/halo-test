(this["webpackJsonphalo-test"]=this["webpackJsonphalo-test"]||[]).push([[0],{11:function(e,t,a){e.exports={priceWrapper:"Price_priceWrapper__1X5uo",sign:"Price_sign__OadlM",value:"Price_value__3sH18"}},12:function(e,t,a){e.exports={description:"Description_description__3XBsG",category:"Description_category__1N871",name:"Description_name__sHZaQ"}},13:function(e,t,a){e.exports={card:"Card_card__EL75s",priceWrapper:"Card_priceWrapper__1h6LX"}},16:function(e,t,a){e.exports={form:"Form_form__2BMkt",inputWrapper:"Form_inputWrapper__HKAF0"}},29:function(e,t,a){e.exports={button:"Button_button___YCAo"}},30:function(e,t,a){e.exports={shop:"Shop_shop__cZgE2"}},31:function(e,t,a){e.exports={cardWrapper:"ProductList_cardWrapper__1El2J"}},40:function(e,t,a){},41:function(e,t,a){},5:function(e,t,a){e.exports={inputWrapper:"Input_inputWrapper__3enlT",notValid:"Input_notValid__2CA7Q",massage:"Input_massage__3Qlfk",container:"Input_container__hHznz",valid:"Input_valid__1R2F-",input:"Input_input__1cFeU"}},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),i=a.n(r),s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},o=(a(40),a(41),a(3)),l=a(2),u="SHOW_MODAL",d="HIDE_MODAL",p="SET_CONTENT",f={isActive:!1,content:{}};function j(){return{type:u}}function b(e){return{type:p,content:e}}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)(Object(l.a)({},e),{},{isActive:!0});case d:return Object(l.a)(Object(l.a)({},e),{},{isActive:!1,content:{}});case p:return Object(l.a)(Object(l.a)({},e),{},{content:Object(l.a)({},t.content)})}return e},O=a(6),v="SET_VALUE",h="CHECK",_="CHECK_FORM",g="CLER_FORM",x={fields:{name:{value:"",type:"string",isRequered:!0,isValid:null,massage:"",errors:{wrongType:"Only letters allowed",thisRequired:"This field is required"}},phoneNumber:{value:"",length:12,type:"number",isRequered:!0,isValid:null,massage:"",errors:{wrongType:"Only numbers allowed",wrongLength:"Should contain 12 characters",thisRequired:"This field is required"}}},isValid:null};function y(){return{type:_}}function N(){return{type:g}}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var a=e.fields[t.fieldName];if(a.value!==t.text)return Object(l.a)(Object(l.a)({},e),{},{fields:Object(l.a)(Object(l.a)({},e.fields),{},Object(O.a)({},t.fieldName,Object(l.a)(Object(l.a)({},e.fields[t.fieldName]),{},{errors:Object(l.a)({},e.fields[t.fieldName].errors),value:t.text,isValid:null}))),isValid:null});case h:var n,c,r=e.fields[t.fieldName],i=isNaN(+t.text)?"string":"number",s=null===(n=e.fields[t.fieldName])||void 0===n?void 0:n.length,o=e.fields[t.fieldName].errors;return""===t.text||r.type!==i||s&&s!==t.text.length?(c=""===t.text?o.thisRequired:r.type!==i?o.wrongType:s&&s!==t.text.length?o.wrongLength:"",Object(l.a)(Object(l.a)({},e),{},{fields:Object(l.a)(Object(l.a)({},e.fields),{},Object(O.a)({},t.fieldName,Object(l.a)(Object(l.a)({},e.fields[t.fieldName]),{},{errors:Object(l.a)({},e.fields[t.fieldName].errors),isValid:!1,massage:c}))),isValid:!1})):Object(l.a)(Object(l.a)({},e),{},{fields:Object(l.a)(Object(l.a)({},e.fields),{},Object(O.a)({},t.fieldName,Object(l.a)(Object(l.a)({},e.fields[t.fieldName]),{},{errors:Object(l.a)({},e.fields[t.fieldName].errors),isValid:!0,massage:""})))});case _:var u,d={};for(var p in e.fields)d[p]=Object(l.a)({},e.fields[p]),e.fields[p].isValid||(u=!0,d[p].massage=e.fields[p].errors.thisRequired,d[p].isValid=!1);return u?Object(l.a)(Object(l.a)({},e),{},{fields:Object(l.a)({},d),isValid:!1}):Object(l.a)(Object(l.a)({},e),{},{isValid:!0});case g:var f={};for(var j in e.fields)f[j]=Object(l.a)(Object(l.a)({},e.fields[j]),{},{value:"",massage:"",isValid:null});return Object(l.a)(Object(l.a)({},e),{},{fields:Object(l.a)({},f),isValid:!1})}return e},C=a(7),w=a.n(C),k=a(16),S=a.n(k),E=a(5),F=a.n(E),M=a(1);var W=function(e){var t=c.a.createRef(),a="";return!0===e.state.fields[e.name].isValid?a=F.a.valid:!1===e.state.fields[e.name].isValid&&(a=F.a.notValid),Object(M.jsxs)("div",{className:"".concat(F.a.container," ").concat(a),children:[Object(M.jsx)("div",{className:"".concat(F.a.inputWrapper," ").concat(a),children:Object(M.jsx)("input",{ref:t,name:e.name,type:e.type,placeholder:e.placeholder,className:"".concat(F.a.input," ").concat(a),value:e.state.fields[e.name].value,onChange:function(){var a=t.current.value;e.setValue(e.name,a)},onBlur:function(){var a=t.current.value;e.checkValue(e.name,a)}})}),Object(M.jsx)("p",{className:F.a.massage,children:e.state.fields[e.name].massage})]})};var T=Object(o.b)((function(e,t){return{state:e.form,type:t.type,name:t.name,placeholder:t.placeholder}}),(function(e){return{setValue:function(t,a){var n=function(e,t){return{type:v,fieldName:e,text:t}}(t,a);e(n)},checkValue:function(t,a){var n=function(e,t){return{type:h,fieldName:e,text:t}}(t,a);e(n)},checkForm:function(){var t=y();e(t)}}}))(W),A=a(29),R=a.n(A);var L=function(e){return Object(M.jsx)("button",{type:e.type,className:R.a.button,onClick:e.callback,children:e.value})};var B=function(e){return Object(M.jsxs)("form",{action:"",className:S.a.form,onSubmit:function(t){t.preventDefault(),function(){if(e.state.isValid){var t={};for(var a in e.state.fields)t[a]=e.state.fields[a].value;console.log(t),e.clearForm(),e.hide()}else e.checkForm()}()},children:[Object(M.jsxs)("div",{className:S.a.inputWrapper,children:[Object(M.jsx)(T,{name:"name",type:"text",placeholder:"Name"}),Object(M.jsx)(T,{name:"phoneNumber",type:"text",placeholder:"Number"})]}),Object(M.jsx)(L,{type:"submit",value:"Order"})]})};var I=Object(o.b)((function(e,t){return{state:e.form,hide:t.hide}}),(function(e){return{checkForm:function(){var t=y();e(t)},clearForm:function(){var t=N();e(t)}}}))(B),D=a(11),H=a.n(D);var q=function(e){return Object(M.jsxs)("p",{className:H.a.priceWrapper,children:[Object(M.jsx)("span",{className:H.a.sign,children:e.priceSign}),Object(M.jsx)("span",{className:H.a.value,children:e.priceValue})]})},P=a(12),J=a.n(P);var Q=function(e){return Object(M.jsxs)("div",{className:J.a.description,children:[Object(M.jsx)("p",{className:J.a.category,children:e.category}),Object(M.jsx)("p",{className:J.a.name,children:e.name})]})};var z=function(e){var t=e.state.isActive?"".concat(w.a.show):"";function a(){e.clearForm(),e.hide()}return Object(M.jsx)("div",{className:"".concat(w.a.bg," ").concat(t),onClick:a,children:Object(M.jsxs)("div",{className:w.a.modal,onClick:function(e){return e.stopPropagation()},children:[Object(M.jsx)("button",{type:"button",className:w.a.closeButton,onClick:a}),Object(M.jsxs)("div",{className:w.a.content,children:[Object(M.jsx)(Q,{category:e.state.content.category,name:e.state.content.name}),Object(M.jsx)(q,{priceSign:e.priceSign,priceValue:e.state.content.price})]}),Object(M.jsx)(I,{hide:e.hide})]})})};var G=Object(o.b)((function(e){return{state:e.modal}}),(function(e){return{hide:function(){e({type:d})},clearForm:function(){var t=N();e(t)}}}))(z),K=a(30),X=a.n(K),Z=a(35),U="SET_CARDS",Y="GET_CHEAPEST",$={cards:[],cheapest:{}};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(l.a)(Object(l.a)({},e),{},{cards:Object(Z.a)(t.cards)});case Y:return Object(l.a)(Object(l.a)({},e),{},{cheapest:e.cards.reduce((function(e,t){return e.price<t.price?e:t}))})}return e},te=a(31),ae=a.n(te),ne=a(32),ce=a(13),re=a.n(ce);var ie=function(e){return Object(M.jsxs)("div",{className:re.a.card,children:[Object(M.jsx)(Q,{category:e.category,name:e.name}),Object(M.jsxs)("div",{className:re.a.priceWrapper,children:[Object(M.jsx)(q,{priceSign:e.priceSign,priceValue:e.priceValue}),Object(M.jsx)(L,{type:"button",value:"buy",className:re.a.button,callback:function(){var t={category:e.category,name:e.name,price:e.priceValue};e.setContent(t),e.showModal()}})]})]})};var se=Object(o.b)((function(e,t){return{category:t.category,name:t.name,priceSign:t.priceSign,priceValue:t.priceValue}}),(function(e){return{showModal:function(){var t=j();e(t)},setContent:function(t){var a=b(t);e(a)}}}))(ie);var oe=function(e){Object(n.useEffect)((function(){if(0===e.cards.length){ne.get("https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(t){e.setCards(t.data),e.getCheapest()}),[])}}));var t=e.cards.map((function(e,t){return Object(M.jsx)(se,{category:e.category,name:e.name,priceSign:"$",priceValue:e.price},t)}));return Object(M.jsx)("div",{className:ae.a.cardWrapper,children:t})};var le=Object(o.b)((function(e){return{cards:e.productCards.cards}}),(function(e){return{setCards:function(t){var a=function(e){return{type:U,cards:e}}(t);e(a)},getCheapest:function(){e({type:Y})}}}))(oe);var ue=function(e){return Object(M.jsxs)("section",{className:X.a.shop,children:[Object(M.jsx)(le,{}),Object(M.jsx)(L,{type:"button",value:"Buy cheapest",callback:function(){e.setContent(e.state.cheapest),e.showModal()}})]})};var de=Object(o.b)((function(e){return{state:e.productCards}}),(function(e){return{setContent:function(t){var a=b(t);e(a)},showModal:function(){var t=j();e(t)}}}))(ue);a(67);var pe=function(e){return Object(M.jsxs)("div",{className:"App container",children:[Object(M.jsx)(de,{}),Object(M.jsx)(G,{})]})},fe=a(18),je=Object(fe.a)({productCards:ee,modal:m,form:V}),be=Object(fe.b)(je);window.store=be;var me=be;i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(o.a,{store:me,children:Object(M.jsx)(pe,{})})}),document.getElementById("root")),s()},7:function(e,t,a){e.exports={bg:"Modal_bg__1dZfJ",show:"Modal_show__1IvQ6",modal:"Modal_modal__3cCkG",closeButton:"Modal_closeButton__rzkNE",content:"Modal_content__1lyid"}}},[[69,1,2]]]);
//# sourceMappingURL=main.b75ef8b8.chunk.js.map